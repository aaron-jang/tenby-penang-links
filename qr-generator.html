<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator | Free Online QR Code Creator with Logo</title>
    <meta name="description" content="Free online QR code generator with custom logo overlay. Create personalized QR codes with custom colors, sizes, and center logos. Download as PNG instantly.">
    <meta name="keywords" content="QR code generator, QR code creator, free QR code, online QR generator, QR code with logo, custom QR code, QR code maker">
    <meta name="author" content="Tenby Penang Parent Community">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <link rel="canonical" href="https://aaron-jang.github.io/tenby-penang-links/qr-generator.html">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <link rel="icon" type="image/x-icon" href="./favicon.svg">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="QR Code Generator | Free Online QR Code Creator with Logo">
    <meta property="og:description" content="Create custom QR codes with logos, custom colors, and sizes. Free online tool with instant PNG download.">
    <meta property="og:url" content="https://aaron-jang.github.io/tenby-penang-links/qr-generator.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="QR Code Generator - Tenby Penang Tools">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="QR Code Generator | Free Online QR Code Creator with Logo">
    <meta name="twitter:description" content="Create custom QR codes with logos, custom colors, and sizes. Free online tool with instant PNG download.">
    <meta name="twitter:site" content="@tenbypenang">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2P6F0R5CLH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2P6F0R5CLH');
    </script>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "QR Code Generator with Logo",
      "url": "https://aaron-jang.github.io/tenby-penang-links/qr-generator.html",
      "description": "Free online QR code generator with custom logo overlay. Create personalized QR codes with custom colors, sizes, and center logos.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Custom QR code size (128px - 512px)",
        "Custom QR code color",
        "Logo overlay with background styles",
        "Adjustable logo size (10% - 35%)",
        "Download as PNG image",
        "No registration required",
        "Free to use"
      ],
      "screenshot": "https://aaron-jang.github.io/tenby-penang-links/qr-generator.html",
      "author": {
        "@type": "Organization",
        "name": "Tenby Penang Parent Community"
      },
      "datePublished": "2025-11-11",
      "dateModified": "2025-11-11",
      "inLanguage": "en",
      "isAccessibleForFree": true
    }
    </script>

    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        /* Dark Mode */
        body.dark-mode {
            background: linear-gradient(135deg, #1F2937 0%, #111827 100%);
        }

        body.dark-mode .container {
            background: #1F2937;
            color: #F3F4F6;
        }

        body.dark-mode .header {
            background: linear-gradient(135deg, #374151 0%, #1F2937 100%);
        }

        body.dark-mode .input-group input,
        body.dark-mode .input-group select {
            background: #374151;
            border-color: #4B5563;
            color: #F3F4F6;
        }

        body.dark-mode .input-group label {
            color: #F3F4F6;
        }

        body.dark-mode .color-preview {
            background: #374151;
            border-color: #4B5563;
            color: #F3F4F6;
        }

        body.dark-mode .qr-preview {
            background: #374151;
        }

        body.dark-mode .footer {
            background: #374151;
            color: #D1D5DB;
        }

        body.dark-mode .file-input-label {
            background: linear-gradient(135deg, #374151 0%, #4B5563 100%);
            border-color: #667eea;
            color: #F3F4F6;
        }

        body.dark-mode .file-input-label:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body.dark-mode .logo-preview-container {
            background: #374151;
        }

        body.dark-mode .logo-preview-img {
            border-color: #4B5563;
        }

        body.dark-mode .logo-filename {
            color: #F3F4F6;
        }

        /* Language Switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 5px;
            z-index: 1000;
        }

        body.dark-mode .language-switcher {
            background: rgba(31, 41, 55, 0.95);
        }

        .theme-btn, .lang-btn {
            padding: 8px 12px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 25px;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.2s ease;
            color: #2C5530;
        }

        body.dark-mode .theme-btn,
        body.dark-mode .lang-btn {
            color: #D1D5DB;
        }

        .theme-btn:hover, .lang-btn:hover {
            background: #f8f9fa;
            color: #2C5530;
        }

        body.dark-mode .theme-btn:hover,
        body.dark-mode .lang-btn:hover {
            background: #4B5563;
            color: #F3F4F6;
        }

        .lang-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .theme-btn {
            margin-right: 8px;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            .language-switcher {
                position: relative;
                top: auto;
                right: auto;
                margin: 0 auto 20px;
                width: fit-content;
            }
        }

        .container {
            max-width: 600px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            opacity: 0.9;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
        }

        .content {
            padding: 30px 30px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 0.95rem;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .color-input-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-input-wrapper input[type="color"] {
            width: 60px;
            height: 45px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
        }

        .color-preview {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 0.9rem;
            text-align: center;
            background: #f8f9fa;
        }

        /* Custom file input styling */
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type="file"] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px dashed #667eea;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            color: #667eea;
            font-weight: 600;
        }

        .file-input-label:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-style: solid;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .logo-preview-container {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
            align-items: center;
            gap: 15px;
        }

        .logo-preview-container.active {
            display: flex;
        }

        .logo-preview-img {
            max-width: 80px;
            max-height: 80px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .logo-info {
            flex: 1;
        }

        .logo-filename {
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
            word-break: break-all;
        }

        .logo-filesize {
            font-size: 0.85rem;
            color: #6c757d;
        }

        .remove-logo-btn {
            padding: 8px 16px;
            border: none;
            background: #dc3545;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .remove-logo-btn:hover {
            background: #c82333;
            transform: scale(1.05);
        }

        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 12px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #28a745;
            color: white;
        }

        .btn-secondary:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .qr-preview {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            margin-bottom: 15px;
            min-height: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        #qrcode {
            display: inline-block;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        #qrcode canvas {
            display: block !important;
            margin: 0 auto;
        }

        #qrcode img {
            display: none !important;
        }

        .placeholder {
            color: #999;
            font-size: 1.1rem;
        }

        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            color: #6c757d;
            font-size: 0.875rem;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 20px 20px;
            }

            .content {
                padding: 25px 20px;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #434343 0%, #000000 100%);
            }
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button class="theme-btn" onclick="toggleTheme()" title="Toggle Dark/Light Mode">üåô</button>
        <button class="lang-btn active" onclick="switchLanguage('en')">EN</button>
        <button class="lang-btn" onclick="switchLanguage('ko')">Ìïú</button>
        <button class="lang-btn" onclick="switchLanguage('zh')">‰∏≠</button>
        <button class="lang-btn" onclick="switchLanguage('ja')">Êó•</button>
    </div>

    <div class="container">
        <div class="header">
            <h1 data-i18n="title">üî≥ QR Code Generator</h1>
            <p data-i18n="subtitle">Create custom QR codes instantly</p>
        </div>

        <div class="content">
            <div class="input-group">
                <label for="text-input" data-i18n="label-text">üìù Enter Text or URL</label>
                <input
                    type="text"
                    id="text-input"
                    data-i18n-placeholder="placeholder-text"
                    placeholder="https://example.com or any text"
                    autocomplete="off"
                >
            </div>

            <div class="options-grid">
                <div class="input-group">
                    <label for="size-select" data-i18n="label-size">üìè Size</label>
                    <select id="size-select">
                        <option value="128" data-i18n="size-small">Small (128x128)</option>
                        <option value="256" selected data-i18n="size-medium">Medium (256x256)</option>
                        <option value="512" data-i18n="size-large">Large (512x512)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label data-i18n="label-color">üé® Color</label>
                    <div class="color-input-wrapper">
                        <input type="color" id="color-input" value="#000000">
                        <div class="color-preview" id="color-preview">#000000</div>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label data-i18n="label-logo">üñºÔ∏è Center Logo (Optional)</label>
                <div class="file-input-wrapper">
                    <input type="file" id="logo-input" accept="image/*">
                    <label for="logo-input" class="file-input-label" data-i18n="btn-choose-file">
                        üìÅ Choose Image File
                    </label>
                </div>
                <div id="logo-preview" class="logo-preview-container">
                    <img id="logo-preview-img" class="logo-preview-img" alt="Logo preview">
                    <div class="logo-info">
                        <div class="logo-filename" id="logo-filename">image.png</div>
                        <div class="logo-filesize" id="logo-filesize">0 KB</div>
                    </div>
                    <button type="button" id="remove-logo-btn" class="remove-logo-btn" data-i18n="btn-remove">‚úï Remove</button>
                </div>
            </div>

            <div class="options-grid" id="logo-options" style="display: none;">
                <div class="input-group">
                    <label for="logo-size-slider"><span data-i18n="label-logo-size">üìê Logo Size</span>: <span id="logo-size-value">20</span>%</label>
                    <input type="range" id="logo-size-slider" min="10" max="35" value="20" style="width: 100%;">
                </div>

                <div class="input-group">
                    <label for="logo-style-select" data-i18n="label-logo-style">üé® Logo Style</label>
                    <select id="logo-style-select">
                        <option value="none" data-i18n="style-none">No Background</option>
                        <option value="white" selected data-i18n="style-white">White Background</option>
                        <option value="rounded" data-i18n="style-rounded">Rounded Background</option>
                    </select>
                </div>
            </div>

            <button class="btn btn-primary" id="generate-btn" data-i18n="btn-generate">
                üé® Generate QR Code
            </button>

            <div class="qr-preview" id="qr-preview">
                <div class="placeholder" data-i18n="placeholder-generate">üëÜ Enter text above and click Generate</div>
            </div>

            <button class="btn btn-secondary" id="download-btn" disabled data-i18n="btn-download">
                üíæ Download PNG
            </button>
        </div>

        <div class="footer">
            <p data-i18n="footer-title">Free QR Code Generator</p>
            <p style="margin-top: 8px;" data-i18n="footer-credit">Created with ‚ù§Ô∏è for Tenby Penang Community</p>
        </div>
    </div>

    <script>
        // Track page visit
        if (typeof gtag !== 'undefined') {
            gtag('event', 'page_view', {
                'event_category': 'QR Generator',
                'event_label': 'QR Generator Page Visit'
            });
        }

        let qrcodeInstance = null;
        let logoImage = null;

        const textInput = document.getElementById('text-input');
        const sizeSelect = document.getElementById('size-select');
        const colorInput = document.getElementById('color-input');
        const colorPreview = document.getElementById('color-preview');
        const generateBtn = document.getElementById('generate-btn');
        const downloadBtn = document.getElementById('download-btn');
        const qrPreview = document.getElementById('qr-preview');
        const logoInput = document.getElementById('logo-input');
        const logoPreview = document.getElementById('logo-preview');
        const logoPreviewImg = document.getElementById('logo-preview-img');
        const removeLogoBtn = document.getElementById('remove-logo-btn');
        const logoOptions = document.getElementById('logo-options');
        const logoSizeSlider = document.getElementById('logo-size-slider');
        const logoSizeValue = document.getElementById('logo-size-value');
        const logoStyleSelect = document.getElementById('logo-style-select');

        // Update color preview
        colorInput.addEventListener('input', function() {
            colorPreview.textContent = this.value.toUpperCase();
            colorPreview.style.color = this.value;
        });

        // Logo upload handler
        logoInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = new Image();
                    img.onload = function() {
                        logoImage = img;
                        logoPreviewImg.src = event.target.result;

                        // Update filename and filesize
                        document.getElementById('logo-filename').textContent = file.name;
                        const fileSizeKB = (file.size / 1024).toFixed(2);
                        document.getElementById('logo-filesize').textContent = fileSizeKB + ' KB';

                        // Show preview and options
                        logoPreview.classList.add('active');
                        logoOptions.style.display = 'grid';

                        // Track logo upload
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'logo_upload', {
                                'event_category': 'QR Generator',
                                'event_label': 'File Size: ' + fileSizeKB + 'KB'
                            });
                        }
                    };
                    img.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        // Remove logo handler
        removeLogoBtn.addEventListener('click', function() {
            logoImage = null;
            logoInput.value = '';
            logoPreview.classList.remove('active');
            logoOptions.style.display = 'none';

            // Track logo removal
            if (typeof gtag !== 'undefined') {
                gtag('event', 'logo_remove', {
                    'event_category': 'QR Generator',
                    'event_label': 'Logo Removed'
                });
            }
        });

        // Logo size slider
        logoSizeSlider.addEventListener('input', function() {
            logoSizeValue.textContent = this.value;
        });

        // Generate QR Code
        generateBtn.addEventListener('click', function() {
            const text = textInput.value.trim();

            if (!text) {
                alert('‚ö†Ô∏è Please enter text or URL');
                textInput.focus();
                return;
            }

            // Get size and color
            const size = parseInt(sizeSelect.value);
            const color = colorInput.value;

            // Always clear and create new QR code
            qrPreview.innerHTML = '<div id="qrcode"></div>';
            qrcodeInstance = null;

            qrcodeInstance = new QRCode(document.getElementById('qrcode'), {
                text: text,
                width: size,
                height: size,
                colorDark: color,
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });

            // If logo is uploaded, add it to QR code after generation
            if (logoImage) {
                setTimeout(() => {
                    addLogoToQRCode();
                }, 100);
            }

            // Enable download button
            downloadBtn.disabled = false;

            // Track QR code generation
            if (typeof gtag !== 'undefined') {
                gtag('event', 'qr_generate', {
                    'event_category': 'QR Generator',
                    'event_label': 'Size: ' + size + ', Has Logo: ' + (logoImage ? 'Yes' : 'No'),
                    'value': size
                });
            }
        });

        // Add logo to QR code
        function addLogoToQRCode() {
            const canvas = document.querySelector('#qrcode canvas');
            if (!canvas || !logoImage) return;

            const ctx = canvas.getContext('2d');
            const canvasSize = canvas.width;

            // Get logo settings
            const logoSizePercent = parseInt(logoSizeSlider.value);
            const logoStyle = logoStyleSelect.value;
            const logoSize = (canvasSize * logoSizePercent) / 100;

            // Calculate center position
            const x = (canvasSize - logoSize) / 2;
            const y = (canvasSize - logoSize) / 2;

            // Add background based on style
            if (logoStyle !== 'none') {
                ctx.fillStyle = '#ffffff';

                if (logoStyle === 'rounded') {
                    // Rounded background with extra padding
                    const padding = logoSize * 0.15;
                    const bgSize = logoSize + padding * 2;
                    const bgX = x - padding;
                    const bgY = y - padding;
                    const radius = bgSize * 0.2;

                    // Draw rounded rectangle using arcs
                    ctx.beginPath();
                    ctx.moveTo(bgX + radius, bgY);
                    ctx.lineTo(bgX + bgSize - radius, bgY);
                    ctx.arcTo(bgX + bgSize, bgY, bgX + bgSize, bgY + radius, radius);
                    ctx.lineTo(bgX + bgSize, bgY + bgSize - radius);
                    ctx.arcTo(bgX + bgSize, bgY + bgSize, bgX + bgSize - radius, bgY + bgSize, radius);
                    ctx.lineTo(bgX + radius, bgY + bgSize);
                    ctx.arcTo(bgX, bgY + bgSize, bgX, bgY + bgSize - radius, radius);
                    ctx.lineTo(bgX, bgY + radius);
                    ctx.arcTo(bgX, bgY, bgX + radius, bgY, radius);
                    ctx.closePath();
                    ctx.fill();
                } else {
                    // Square background with padding
                    const padding = logoSize * 0.1;
                    ctx.fillRect(x - padding, y - padding, logoSize + padding * 2, logoSize + padding * 2);
                }
            }

            // Draw logo
            ctx.drawImage(logoImage, x, y, logoSize, logoSize);
        }

        // Download QR Code
        downloadBtn.addEventListener('click', function() {
            const canvas = document.querySelector('#qrcode canvas');

            if (!canvas) {
                alert('‚ö†Ô∏è Please generate a QR code first');
                return;
            }

            // Create new canvas with white border/padding
            const padding = 20; // 20px white border (same as preview)
            const newCanvas = document.createElement('canvas');
            const newSize = canvas.width + (padding * 2);
            newCanvas.width = newSize;
            newCanvas.height = newSize;
            const ctx = newCanvas.getContext('2d');

            // Fill with white background
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, newSize, newSize);

            // Draw original QR code in center
            ctx.drawImage(canvas, padding, padding);

            // Convert new canvas to blob and download
            newCanvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                const text = textInput.value.trim();
                const fileName = 'qrcode-' + Date.now() + '.png';

                link.href = url;
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);

                // Track QR code download
                if (typeof gtag !== 'undefined') {
                    const size = parseInt(sizeSelect.value);
                    gtag('event', 'qr_download', {
                        'event_category': 'QR Generator',
                        'event_label': 'Size: ' + size + ', Has Logo: ' + (logoImage ? 'Yes' : 'No'),
                        'value': size
                    });
                }
            });
        });

        // Generate on Enter key
        textInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateBtn.click();
            }
        });

        // Auto-generate on input change (optional)
        let autoGenerateTimeout;
        textInput.addEventListener('input', function() {
            if (this.value.trim()) {
                clearTimeout(autoGenerateTimeout);
                autoGenerateTimeout = setTimeout(() => {
                    generateBtn.click();
                }, 500);
            }
        });

        // Auto-regenerate when logo options change
        logoSizeSlider.addEventListener('change', function() {
            if (qrcodeInstance && logoImage) {
                generateBtn.click();

                // Track logo size change
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'logo_size_change', {
                        'event_category': 'QR Generator',
                        'event_label': 'Logo Size: ' + this.value + '%',
                        'value': parseInt(this.value)
                    });
                }
            }
        });

        logoStyleSelect.addEventListener('change', function() {
            if (qrcodeInstance && logoImage) {
                generateBtn.click();

                // Track logo style change
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'logo_style_change', {
                        'event_category': 'QR Generator',
                        'event_label': 'Logo Style: ' + this.value
                    });
                }
            }
        });

        // Track QR size change
        sizeSelect.addEventListener('change', function() {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'qr_size_change', {
                    'event_category': 'QR Generator',
                    'event_label': 'QR Size: ' + this.value,
                    'value': parseInt(this.value)
                });
            }
        });

        // Track color change
        colorInput.addEventListener('change', function() {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'qr_color_change', {
                    'event_category': 'QR Generator',
                    'event_label': 'QR Color: ' + this.value
                });
            }
        });

        // ===== Multilingual Support =====
        let currentLanguage = 'en';

        const translations = {
            en: {
                "title": "üî≥ QR Code Generator",
                "subtitle": "Create custom QR codes instantly",
                "label-text": "üìù Enter Text or URL",
                "placeholder-text": "https://example.com or any text",
                "label-size": "üìè Size",
                "size-small": "Small (128x128)",
                "size-medium": "Medium (256x256)",
                "size-large": "Large (512x512)",
                "label-color": "üé® Color",
                "label-logo": "üñºÔ∏è Center Logo (Optional)",
                "btn-choose-file": "üìÅ Choose Image File",
                "btn-remove": "‚úï Remove",
                "label-logo-size": "üìê Logo Size",
                "label-logo-style": "üé® Logo Style",
                "style-none": "No Background",
                "style-white": "White Background",
                "style-rounded": "Rounded Background",
                "btn-generate": "üé® Generate QR Code",
                "placeholder-generate": "üëÜ Enter text above and click Generate",
                "btn-download": "üíæ Download PNG",
                "footer-title": "Free QR Code Generator",
                "footer-credit": "Created with ‚ù§Ô∏è for Tenby Penang Community"
            },
            ko: {
                "title": "üî≥ QR ÏΩîÎìú ÏÉùÏÑ±Í∏∞",
                "subtitle": "ÎßûÏ∂§Ìòï QR ÏΩîÎìúÎ•º Ï¶âÏãú ÏÉùÏÑ±ÌïòÏÑ∏Ïöî",
                "label-text": "üìù ÌÖçÏä§Ìä∏ ÎòêÎäî URL ÏûÖÎ†•",
                "placeholder-text": "https://example.com ÎòêÎäî ÌÖçÏä§Ìä∏ ÏûÖÎ†•",
                "label-size": "üìè ÌÅ¨Í∏∞",
                "size-small": "ÏÜåÌòï (128x128)",
                "size-medium": "Ï§ëÌòï (256x256)",
                "size-large": "ÎåÄÌòï (512x512)",
                "label-color": "üé® ÏÉâÏÉÅ",
                "label-logo": "üñºÔ∏è Ï§ëÏïô Î°úÍ≥† (ÏÑ†ÌÉùÏÇ¨Ìï≠)",
                "btn-choose-file": "üìÅ Ïù¥ÎØ∏ÏßÄ ÌååÏùº ÏÑ†ÌÉù",
                "btn-remove": "‚úï Ï†úÍ±∞",
                "label-logo-size": "üìê Î°úÍ≥† ÌÅ¨Í∏∞",
                "label-logo-style": "üé® Î°úÍ≥† Ïä§ÌÉÄÏùº",
                "style-none": "Î∞∞Í≤Ω ÏóÜÏùå",
                "style-white": "Ìù∞ÏÉâ Î∞∞Í≤Ω",
                "style-rounded": "Îë•Í∑º Î∞∞Í≤Ω",
                "btn-generate": "üé® QR ÏΩîÎìú ÏÉùÏÑ±",
                "placeholder-generate": "üëÜ ÏúÑÏóê ÌÖçÏä§Ìä∏Î•º ÏûÖÎ†•ÌïòÍ≥† ÏÉùÏÑ±ÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî",
                "btn-download": "üíæ PNG Îã§Ïö¥Î°úÎìú",
                "footer-title": "Î¨¥Î£å QR ÏΩîÎìú ÏÉùÏÑ±Í∏∞",
                "footer-credit": "ÌÖêÎπÑ ÌéòÎÇ≠ Ïª§ÎÆ§ÎãàÌã∞Î•º ÏúÑÌï¥ ‚ù§Ô∏èÎ°ú Ï†úÏûë"
            },
            zh: {
                "title": "üî≥ QRÁ†ÅÁîüÊàêÂô®",
                "subtitle": "Á´ãÂç≥ÂàõÂª∫Ëá™ÂÆö‰πâQRÁ†Å",
                "label-text": "üìù ËæìÂÖ•ÊñáÊú¨ÊàñURL",
                "placeholder-text": "https://example.com Êàñ‰ªª‰ΩïÊñáÊú¨",
                "label-size": "üìè Â∞∫ÂØ∏",
                "size-small": "Â∞è (128x128)",
                "size-medium": "‰∏≠ (256x256)",
                "size-large": "Â§ß (512x512)",
                "label-color": "üé® È¢úËâ≤",
                "label-logo": "üñºÔ∏è ‰∏≠ÂøÉÂæΩÊ†áÔºàÂèØÈÄâÔºâ",
                "btn-choose-file": "üìÅ ÈÄâÊã©ÂõæÂÉèÊñá‰ª∂",
                "btn-remove": "‚úï ÁßªÈô§",
                "label-logo-size": "üìê ÂæΩÊ†áÂ§ßÂ∞è",
                "label-logo-style": "üé® ÂæΩÊ†áÊ†∑Âºè",
                "style-none": "Êó†ËÉåÊôØ",
                "style-white": "ÁôΩËâ≤ËÉåÊôØ",
                "style-rounded": "ÂúÜËßíËÉåÊôØ",
                "btn-generate": "üé® ÁîüÊàêQRÁ†Å",
                "placeholder-generate": "üëÜ Âú®‰∏äÊñπËæìÂÖ•ÊñáÊú¨Âπ∂ÁÇπÂáªÁîüÊàê",
                "btn-download": "üíæ ‰∏ãËΩΩPNG",
                "footer-title": "ÂÖçË¥πQRÁ†ÅÁîüÊàêÂô®",
                "footer-credit": "‰∏∫ËÖæÊØîÊßüÂüéÁ§æÂå∫ ‚ù§Ô∏è Á≤æÂøÉÂà∂‰Ωú"
            },
            ja: {
                "title": "üî≥ QR„Ç≥„Éº„ÉâÁîüÊàêÂô®",
                "subtitle": "„Ç´„Çπ„Çø„É†QR„Ç≥„Éº„Éâ„ÇíÂç≥Â∫ß„Å´‰ΩúÊàê",
                "label-text": "üìù „ÉÜ„Ç≠„Çπ„Éà„Åæ„Åü„ÅØURL„ÇíÂÖ•Âäõ",
                "placeholder-text": "https://example.com „Åæ„Åü„ÅØ„ÉÜ„Ç≠„Çπ„Éà",
                "label-size": "üìè „Çµ„Ç§„Ç∫",
                "size-small": "Â∞è (128x128)",
                "size-medium": "‰∏≠ (256x256)",
                "size-large": "Â§ß (512x512)",
                "label-color": "üé® Ëâ≤",
                "label-logo": "üñºÔ∏è ‰∏≠Â§Æ„É≠„Ç¥Ôºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ",
                "btn-choose-file": "üìÅ ÁîªÂÉè„Éï„Ç°„Ç§„É´„ÇíÈÅ∏Êäû",
                "btn-remove": "‚úï ÂâäÈô§",
                "label-logo-size": "üìê „É≠„Ç¥„Çµ„Ç§„Ç∫",
                "label-logo-style": "üé® „É≠„Ç¥„Çπ„Çø„Ç§„É´",
                "style-none": "ËÉåÊôØ„Å™„Åó",
                "style-white": "ÁôΩËÉåÊôØ",
                "style-rounded": "‰∏∏„ÅÑËÉåÊôØ",
                "btn-generate": "üé® QR„Ç≥„Éº„Éâ„ÇíÁîüÊàê",
                "placeholder-generate": "üëÜ ‰∏ä„Å´„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åã„ÇâÁîüÊàê„Çí„ÇØ„É™„ÉÉ„ÇØ",
                "btn-download": "üíæ PNG„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ",
                "footer-title": "ÁÑ°ÊñôQR„Ç≥„Éº„ÉâÁîüÊàêÂô®",
                "footer-credit": "„ÉÜ„É≥„Éì„Éº„Éª„Éö„Éä„É≥„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„ÅÆ„Åü„ÇÅ„Å´ ‚ù§Ô∏è „Åß‰ΩúÊàê"
            }
        };

        const seoMetaTags = {
            en: {
                title: "QR Code Generator | Free Online QR Code Creator with Logo",
                description: "Free online QR code generator with custom logo overlay. Create personalized QR codes with custom colors, sizes, and center logos. Download as PNG instantly.",
                keywords: "QR code generator, QR code creator, free QR code, online QR generator, QR code with logo, custom QR code, QR code maker"
            },
            ko: {
                title: "QR ÏΩîÎìú ÏÉùÏÑ±Í∏∞ | Î°úÍ≥†Í∞Ä ÏûàÎäî Î¨¥Î£å Ïò®ÎùºÏù∏ QR ÏΩîÎìú Ï†úÏûë",
                description: "Î°úÍ≥† Ïò§Î≤ÑÎ†àÏù¥Í∞Ä ÏûàÎäî Î¨¥Î£å Ïò®ÎùºÏù∏ QR ÏΩîÎìú ÏÉùÏÑ±Í∏∞. ÏÇ¨Ïö©Ïûê Ï†ïÏùò ÏÉâÏÉÅ, ÌÅ¨Í∏∞ Î∞è Ï§ëÏïô Î°úÍ≥†Î°ú Í∞úÏù∏ÌôîÎêú QR ÏΩîÎìúÎ•º ÎßåÎìúÏÑ∏Ïöî. PNGÎ°ú Ï¶âÏãú Îã§Ïö¥Î°úÎìú.",
                keywords: "QR ÏΩîÎìú ÏÉùÏÑ±Í∏∞, QR ÏΩîÎìú Ï†úÏûë, Î¨¥Î£å QR ÏΩîÎìú, Ïò®ÎùºÏù∏ QR ÏÉùÏÑ±Í∏∞, Î°úÍ≥†Í∞Ä ÏûàÎäî QR ÏΩîÎìú, ÎßûÏ∂§Ìòï QR ÏΩîÎìú"
            },
            zh: {
                title: "QRÁ†ÅÁîüÊàêÂô® | ÂÖçË¥πÂú®Á∫øQRÁ†ÅÂàõÂª∫Â∑•ÂÖ∑ÔºàÂ∏¶ÂæΩÊ†áÔºâ",
                description: "ÂÖçË¥πÂú®Á∫øQRÁ†ÅÁîüÊàêÂô®ÔºåÊîØÊåÅËá™ÂÆö‰πâÂæΩÊ†áË¶ÜÁõñ„ÄÇÂàõÂª∫ÂÖ∑ÊúâËá™ÂÆö‰πâÈ¢úËâ≤„ÄÅÂ∞∫ÂØ∏Âíå‰∏≠ÂøÉÂæΩÊ†áÁöÑ‰∏™ÊÄßÂåñQRÁ†Å„ÄÇÂç≥Êó∂‰∏ãËΩΩ‰∏∫PNG„ÄÇ",
                keywords: "QRÁ†ÅÁîüÊàêÂô®, QRÁ†ÅÂàõÂª∫, ÂÖçË¥πQRÁ†Å, Âú®Á∫øQRÁîüÊàêÂô®, Â∏¶ÂæΩÊ†áÁöÑQRÁ†Å, Ëá™ÂÆö‰πâQRÁ†Å"
            },
            ja: {
                title: "QR„Ç≥„Éº„ÉâÁîüÊàêÂô® | „É≠„Ç¥‰ªò„ÅçÁÑ°Êñô„Ç™„É≥„É©„Ç§„É≥QR„Ç≥„Éº„Éâ‰ΩúÊàê„ÉÑ„Éº„É´",
                description: "„Ç´„Çπ„Çø„É†„É≠„Ç¥„Ç™„Éº„Éê„Éº„É¨„Ç§‰ªò„Åç„ÅÆÁÑ°Êñô„Ç™„É≥„É©„Ç§„É≥QR„Ç≥„Éº„ÉâÁîüÊàêÂô®„ÄÇ„Ç´„Çπ„Çø„É†„Ç´„É©„Éº„ÄÅ„Çµ„Ç§„Ç∫„ÄÅ‰∏≠Â§Æ„É≠„Ç¥„Åß„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„Åï„Çå„ÅüQR„Ç≥„Éº„Éâ„Çí‰ΩúÊàê„ÄÇÂç≥Â∫ß„Å´PNG„Åß„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÄÇ",
                keywords: "QR„Ç≥„Éº„ÉâÁîüÊàêÂô®, QR„Ç≥„Éº„Éâ‰ΩúÊàê, ÁÑ°ÊñôQR„Ç≥„Éº„Éâ, „Ç™„É≥„É©„Ç§„É≥QRÁîüÊàêÂô®, „É≠„Ç¥‰ªò„ÅçQR„Ç≥„Éº„Éâ, „Ç´„Çπ„Çø„É†QR„Ç≥„Éº„Éâ"
            }
        };

        function updateSEOMetaTags(lang) {
            const meta = seoMetaTags[lang];
            if (meta) {
                // Update title
                document.title = meta.title;

                // Update meta description
                document.querySelector('meta[name="description"]').setAttribute('content', meta.description);

                // Update meta keywords
                document.querySelector('meta[name="keywords"]').setAttribute('content', meta.keywords);

                // Update Open Graph tags
                document.querySelector('meta[property="og:title"]').setAttribute('content', meta.title);
                document.querySelector('meta[property="og:description"]').setAttribute('content', meta.description);

                // Update Twitter tags
                document.querySelector('meta[name="twitter:title"]').setAttribute('content', meta.title);
                document.querySelector('meta[name="twitter:description"]').setAttribute('content', meta.description);

                // Update html lang attribute
                document.documentElement.lang = lang;
            }
        }

        function switchLanguage(lang) {
            currentLanguage = lang;

            // Track language change
            if (typeof gtag !== 'undefined') {
                gtag('event', 'language_change', {
                    'event_category': 'QR Generator',
                    'event_label': 'Language: ' + lang.toUpperCase()
                });
            }

            // Update SEO meta tags for the selected language
            updateSEOMetaTags(lang);

            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update placeholder text
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[lang] && translations[lang][key]) {
                    element.setAttribute('placeholder', translations[lang][key]);
                }
            });

            // Save preference
            localStorage.setItem('preferred-language', lang);
        }

        function toggleTheme() {
            const body = document.body;
            const themeBtn = document.querySelector('.theme-btn');
            const isDark = body.classList.contains('dark-mode');

            if (isDark) {
                body.classList.remove('dark-mode');
                themeBtn.textContent = 'üåô';
                localStorage.setItem('theme', 'light');
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'theme_change', {
                        'event_category': 'QR Generator',
                        'event_label': 'Light Mode'
                    });
                }
            } else {
                body.classList.add('dark-mode');
                themeBtn.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'dark');
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'theme_change', {
                        'event_category': 'QR Generator',
                        'event_label': 'Dark Mode'
                    });
                }
            }
        }

        // Detect browser language
        function detectBrowserLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            if (browserLang.startsWith('ko')) return 'ko';
            if (browserLang.startsWith('zh')) return 'zh';
            if (browserLang.startsWith('ja')) return 'ja';
            return 'en';
        }

        // Load saved preferences on page load
        window.addEventListener('DOMContentLoaded', function() {
            // Load saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-btn').textContent = '‚òÄÔ∏è';
            }

            // Load saved language or detect browser language
            const savedLang = localStorage.getItem('preferred-language');
            const defaultLang = savedLang || detectBrowserLanguage();

            if (defaultLang !== 'en') {
                // Find and click the appropriate language button
                const langButton = document.querySelector(`[onclick="switchLanguage('${defaultLang}')"]`);
                if (langButton) {
                    langButton.click();
                }
            }
        });
    </script>
</body>
</html>
